import{_ as M}from"./AuthenticatedLayout.fb5b4752.js";import{u as U,j as L,o as s,g as o,a as n,b as d,w as u,F as f,H as V,d as e,L as k,e as g,k as A,x as S,t as v,n as B,p as F,q as N}from"./app.17ce0bb9.js";import D from"./Update.94149a2a.js";import{_ as E}from"./_plugin-vue_export-helper.cdc0426e.js";const _=l=>(F("data-v-a91c19f1"),l=l(),N(),l),j={class:"breadcrumb-item"},H=_(()=>e("li",{class:"breadcrumb-item active","aria-current":"page"},"User",-1)),T={key:0,class:"col-md-12 text-end mb-2"},z={class:"col-12"},R={class:"card mb-4"},G=_(()=>e("div",{class:"card-header"},"User List",-1)),J={class:"card-body"},K={class:"row"},O={class:"col-md-12"},P={class:"table table-hover usertbl"},Q=_(()=>e("thead",null,[e("tr",null,[e("th",null,"Fullname"),e("th",null,"Username"),e("th",null,"Area of Access"),e("th",null,"Role"),e("th")])],-1)),W={key:0},X={key:0},Y={key:1},Z=["onClick","disabled"],ee=_(()=>e("svg",{class:"icon"},[e("use",{"xlink:href":"/theme/vendors/@coreui/icons/svg/free.svg#cil-pen"})],-1)),te=[ee],se={__name:"Index",props:{users:Array,canCreate:Boolean,roles:Array,employees:Array},setup(l){const x=l,y=U();function C(a){$("#"+a).modal("show")}L(()=>{$(".usertbl").DataTable(),$(".usertbl").attr("style","border-collapse: collapse !important")});function I(a,m,t,p,r){$("#user_id").val(a),document.querySelector("#roles_select2").setAttribute("user_id",a),$("#employees_select2").val(m);var h=coreui.MultiSelect.getInstance(document.querySelector("#employees_select2"));document.querySelector(`#employees_select2 option[value='${m}']`).setAttribute("selected","selected"),h.update(),$("#username").val(t),p==1?$("#limited_access").prop("checked",!0):$("#limited_access").prop("checked",!1);for(var b=[],i=r.length-1;i>=0;i--)b[i]=r[i].id;document.querySelectorAll("#roles_select2 option[selected]").forEach(c=>{b.includes(c.value)||c.removeAttribute("selected")});var q=coreui.MultiSelect.getInstance(document.querySelector("#roles_select2"));const w=b.map(c=>`option[value='${c}']`).join(",");document.querySelectorAll(`#roles_select2 ${w}`).forEach(c=>{c.setAttribute("selected","selected")}),q.update(),C("updateUserModal")}return(a,m)=>(s(),o(f,null,[n(d(V),{title:"User"}),n(M,null,{breadcrumbs:u(()=>[e("li",j,[n(d(k),{href:a.route("dashboard")},{default:u(()=>[g("Dashboard")]),_:1},8,["href"])]),H]),default:u(()=>[l.canCreate?(s(),o("div",T,[n(d(k),{class:"btn btn-dark btn-sm",href:a.route("user.create")},{default:u(()=>[g(" Create User ")]),_:1},8,["href"])])):A("",!0),e("div",z,[e("div",R,[G,e("div",J,[e("div",K,[e("div",O,[e("table",P,[Q,l.users.length>0?(s(),o("tbody",W,[(s(!0),o(f,null,S(l.users,(t,p)=>(s(),o("tr",{key:p},[e("td",null,v(t.name),1),e("td",null,v(t.username),1),t.limited_access_status==1?(s(),o("td",X,"Limited")):(s(),o("td",Y,"Anywhere")),e("td",null,[(s(!0),o(f,null,S(t.roles,(r,h)=>(s(),o("span",{key:h,class:"badge bg-dark ms-1"},v(r.title),1))),128))]),e("td",null,[e("button",{class:B(["btn btn-sm btn-ghost-secondary text-dark",{"opacity-25":d(y).processing}]),onClick:r=>I(t.id,t.employee_id,t.username,t.limited_access_status,t.roles),disabled:d(y).processing},te,10,Z)])]))),128))])):A("",!0)])])])])])]),n(D,{props:x},null,8,["props"])]),_:1})],64))}},ne=E(se,[["__scopeId","data-v-a91c19f1"]]);export{ne as default};

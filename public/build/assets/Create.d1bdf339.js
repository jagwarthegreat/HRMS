import{u as g,j as x,o as a,g as r,a as i,b as o,w as c,F as u,H as U,d as e,L as h,e as f,f as V,h as n,x as b,s as p,t as v,l as y}from"./app.810ed7ca.js";import{_ as S}from"./AuthenticatedLayout.f2e6c1c4.js";const A={class:"breadcrumb-item"},C={class:"breadcrumb-item"},L=e("li",{class:"breadcrumb-item active","aria-current":"page"},"Create",-1),N={class:"col-md-12 text-start mb-2"},D={class:"col-12"},F={class:"card mb-4"},M=e("div",{class:"card-header"},"User Detail",-1),B={class:"card-body"},E=["onSubmit"],H={class:"row"},R={class:"col-md-12"},T={class:"mb-3"},j=e("label",{for:"employees",class:"form-label"},"Employee",-1),G=["value"],P={key:1,class:"row"},q=e("small",{class:"text-danger ms-1"},"No Employee found.",-1),z=[q],I={class:"mb-3"},J=e("label",{for:"roletitle",class:"form-label"},"Username",-1),K={class:"mb-3"},O=e("label",{for:"roletitle",class:"form-label"},"Password",-1),Q={class:"mb-3"},W=e("label",{for:"roles",class:"form-label"},"Roles",-1),X=["value"],Y={key:1,class:"row"},Z=e("small",{class:"text-danger ms-1"},"No Roles found.",-1),ee=[Z],se={class:"mb-3"},te={class:"form-check"},oe=e("label",{class:"form-check-label",for:"limited_access"}," Limited Area of Access ",-1),le=e("div",{class:"col-12 text-base"},[e("button",{class:"btn btn-dark px-4",type:"submit"},"Save")],-1),ie={__name:"Create",props:{roles:Array,employees:Array},setup(d){const s=g({employee:"",roles:"",username:"",password:"",limited_access:0}),k=()=>{s.post(route("user.store"),{onFinish:()=>{s.reset("employee"),s.reset("roles"),s.reset("username"),s.reset("password")}})};x(()=>{$("#employees_select2").select2(),$("#roles_select2").select2(),$("#roles_select2").change(function(){s.roles=$("#roles_select2").val()}.bind(this)),$("#employees_select2").change(function(){s.employee=$("#employees_select2").val()}.bind(this))});function w(){$("#limited_access").is(":checked")?s.limited_access=1:s.limited_access=0}return(m,l)=>(a(),r(u,null,[i(o(U),{title:"Create User"}),i(S,null,{breadcrumbs:c(()=>[e("li",A,[i(o(h),{href:m.route("dashboard")},{default:c(()=>[f("Dashboard")]),_:1},8,["href"])]),e("li",C,[i(o(h),{href:m.route("user")},{default:c(()=>[f("User")]),_:1},8,["href"])]),L]),default:c(()=>[e("div",N,[i(o(h),{class:"btn btn-dark btn-sm",href:m.route("user")},{default:c(()=>[f(" Go back ")]),_:1},8,["href"])]),e("div",D,[e("div",F,[M,e("div",B,[e("form",{onSubmit:V(k,["prevent"])},[e("div",H,[e("div",R,[e("div",T,[j,d.employees.length>0?n((a(),r("select",{key:0,class:"form-control","data-coreui-search":"true",id:"employees_select2","onUpdate:modelValue":l[0]||(l[0]=t=>o(s).employee=t),style:{width:"100%"}},[(a(!0),r(u,null,p(d.employees,(t,_)=>(a(),r("option",{key:_,value:t.id},v(t.firstname+" "+t.middlename+" "+t.lastname+" ("+t.gender+")"),9,G))),128))],512)),[[b,o(s).employee]]):(a(),r("div",P,z))]),e("div",I,[J,n(e("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":l[1]||(l[1]=t=>o(s).username=t)},null,512),[[y,o(s).username]])]),e("div",K,[O,n(e("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":l[2]||(l[2]=t=>o(s).password=t)},null,512),[[y,o(s).password]])]),e("div",Q,[W,d.roles.length>0?n((a(),r("select",{key:0,class:"form-control",multiple:"","data-coreui-search":"true",id:"roles_select2","onUpdate:modelValue":l[3]||(l[3]=t=>o(s).roles=t),style:{width:"100%"}},[(a(!0),r(u,null,p(d.roles,(t,_)=>(a(),r("option",{key:_,value:t.id},v(t.title),9,X))),128))],512)),[[b,o(s).roles]]):(a(),r("div",Y,ee))]),e("div",se,[e("div",te,[e("input",{class:"form-check-input",type:"checkbox",id:"limited_access",onClick:l[4]||(l[4]=t=>w())}),oe])])]),le])],40,E)])])])]),_:1})],64))}};export{ie as default};

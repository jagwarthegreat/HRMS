import{_ as v}from"./AuthenticatedLayout.fb5b4752.js";import{j as g,o as r,g as o,a as n,b as d,w as i,F as c,H as x,d as e,L as b,e as u,x as p,t as y}from"./app.17ce0bb9.js";const k={class:"breadcrumb-item"},w=e("li",{class:"breadcrumb-item active","aria-current":"page"},"Employee",-1),E={class:"col-md-12 d-flex flex-row mb-2",style:{"justify-content":"space-between"}},D={class:"d-flex"},A={class:"me-2 form-select form-select-sm",name:"filter_by_branch",id:"filter_by_branch",style:{width:"200px"}},L=e("option",{value:"-1"},"-- All Locations--",-1),T=["value"],N={class:"me-2 form-select form-select-sm",name:"filter_by_dept",id:"filter_by_dept",style:{width:"200px"}},V=e("option",{value:"-1"},"-- All Departments --",-1),j=["value"],C=e("div",{class:"card mb-4"},[e("div",{class:"card-header"}," Employee List "),e("div",{class:"card-body"},[e("div",{class:"col-md-12"},[e("div",{class:"row"},[e("table",{class:"table table-hover employeetbl",id:"employeetbl"},[e("thead",null,[e("tr",null,[e("th",null,"Employee Name"),e("th",null,"Designation"),e("th",null,"Department"),e("th",null,"Employment Type"),e("th",null,"Status"),e("th")])]),e("tbody")])])])])],-1),M={__name:"Index",props:{employees:Array,departments:Array,locations:Array},setup(m){g(()=>{_()});function _(){var a=$("#filter_by_branch").val(),l=$("#filter_by_dept").val();f(a,l)}function f(a="",l=""){var t=a==""?"":a,s=l==""?"":l;$("#employeetbl").DataTable().destroy(),$("#employeetbl").dataTable({processing:!0,ajax:{url:route("employee.filter"),data:{filter_by_branch:t,filter_by_dept:s},dataSrc:"data"},columns:[{data:"employee_name"},{data:"position"},{data:"department"},{data:"employee_type"},{data:"status"},{mRender:function(F,S,h){return'<a class="btn btn-sm btn-ghost-secondary text-dark" href="'+route("employee.show",h.employee_id)+'" title="View"><svg class="icon"><use xlink:href="/theme/vendors/@coreui/icons/svg/free.svg#cil-pen"></use></svg></a>'}}]}),$("#filter_by_branch").val(t),$("#filter_by_dept").val(s),$("#employeetbl").attr("style","border-collapse: collapse !important")}return(a,l)=>(r(),o(c,null,[n(d(x),{title:"Employee"}),n(v,null,{breadcrumbs:i(()=>[e("li",k,[n(d(b),{href:a.route("dashboard")},{default:i(()=>[u("Dashboard")]),_:1},8,["href"])]),w]),default:i(()=>[e("div",E,[e("div",D,[e("select",A,[L,(r(!0),o(c,null,p(m.locations,(t,s)=>(r(),o("option",{key:s,value:t.id},y(t.title),9,T))),128))]),e("select",N,[V,(r(!0),o(c,null,p(m.departments,(t,s)=>(r(),o("option",{key:s,value:t.id},y(t.title),9,j))),128))]),e("button",{class:"btn btn-dark btn-sm",onClick:l[0]||(l[0]=t=>_())}," Filter ")]),e("div",null,[n(d(b),{class:"btn btn-dark btn-sm",href:a.route("employee.create"),method:"get",as:"button"},{default:i(()=>[u(" Create Employee ")]),_:1},8,["href"])])]),C]),_:1})],64))}};export{M as default};

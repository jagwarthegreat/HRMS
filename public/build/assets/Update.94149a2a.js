import{u as _,j as h,o as t,g as l,d as e,f as p,F as r,x as n,t as u}from"./app.17ce0bb9.js";const b={class:"modal fade",id:"updateUserModal",tabindex:"-1","aria-labelledby":"updateUserModal","aria-hidden":"true"},f={class:"modal-dialog modal-md"},y={class:"modal-content"},v=["onSubmit"],g=e("input",{type:"hidden",id:"user_id"},null,-1),k=e("div",{class:"modal-header"},[e("h5",{class:"modal-title",id:"updateUserModalTitle"},"Update User"),e("button",{type:"button",class:"btn-close","data-coreui-dismiss":"modal","aria-label":"Close"})],-1),x={class:"modal-body"},M={class:"row g-3"},S={class:"col-md-12"},w={class:"mb-3"},U=e("label",{for:"employees",class:"form-label"},"Employee",-1),E={key:0,class:"form-multi-select","data-coreui-search":"true","data-coreui-multiple":"false",id:"employees_select2",style:{width:"100%"}},B=["value"],F={key:1,class:"row"},L=e("small",{class:"text-danger ms-1"},"No Employee found.",-1),A=[L],N=e("div",{class:"mb-3"},[e("label",{for:"roletitle",class:"form-label"},"Username"),e("input",{type:"text",class:"form-control",id:"username"})],-1),I={class:"mb-3"},R=e("label",{for:"roles",class:"form-label"},"Roles",-1),j={key:0,class:"form-multi-select",multiple:"","data-coreui-search":"true","data-coreui-multiple":"true","data-coreui-selection-type":"tags",id:"roles_select2",style:{width:"100%"}},C=["value"],D={key:1,class:"row"},T=e("small",{class:"text-danger ms-1"},"No Roles found.",-1),V=[T],q=e("div",{class:"mb-3"},[e("div",{class:"form-check"},[e("input",{class:"form-check-input",type:"checkbox",id:"limited_access"}),e("label",{class:"form-check-label",for:"limited_access"}," Limited Area of Access ")])],-1),z=e("div",{class:"col-12 text-end"},[e("button",{class:"btn btn-dark px-4",type:"submit"},"Save changes")],-1),H={__name:"Update",props:{props:Array},setup(c){const o=_({user_id:"",employee:"",roles:"",username:"",limited_access:0}),m=()=>{o.user_id=$("#user_id").val(),o.username=$("#username").val(),$("#limited_access").is(":checked")?o.limited_access=1:o.limited_access=0,o.post(route("user.update"),{onSuccess:()=>{o.reset("employee","roles","username"),$("#updateUserModal").modal("hide")}})};return h(()=>{const i=document.getElementById("employees_select2");i.addEventListener("changed.coreui.multi-select",s=>{const a=s.value;o.employee=a}),new coreui.MultiSelect(i,{multiple:!1,search:!0});const d=document.getElementById("roles_select2");d.addEventListener("changed.coreui.multi-select",s=>{const a=s.value;o.roles=a}),new coreui.MultiSelect(d,{multiple:!0,search:!0})}),(i,d)=>(t(),l("div",b,[e("div",f,[e("div",y,[e("form",{onSubmit:p(m,["prevent"])},[g,k,e("div",x,[e("div",M,[e("div",S,[e("div",w,[U,c.props.employees.length>0?(t(),l("select",E,[(t(!0),l(r,null,n(c.props.employees,(s,a)=>(t(),l("option",{key:a,value:s.id},u(s.firstname+" "+s.middlename+" "+s.lastname+" ("+s.gender+")"),9,B))),128))])):(t(),l("div",F,A))]),N,e("div",I,[R,c.props.roles.length>0?(t(),l("select",j,[(t(!0),l(r,null,n(c.props.roles,(s,a)=>(t(),l("option",{key:a,value:s.id},u(s.title),9,C))),128))])):(t(),l("div",D,V))]),q]),z])])],40,v)])])]))}};export{H as default};

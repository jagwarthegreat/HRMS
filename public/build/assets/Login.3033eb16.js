import{u as g,o as h,c as f,w as v,d as s,f as b,h as r,l as i,b as t,a as c,n as w}from"./app.810ed7ca.js";import{_ as x}from"./GuestLayout.f8c26d6a.js";import{_ as l}from"./InputError.2e4c8e7c.js";const y={class:"loginUi"},k={class:"min-vh-100 d-flex flex-row align-items-center"},S={class:"container"},B={class:"row justify-content-center"},L={class:"col-lg-4"},R={class:"card-group d-block d-md-flex row"},U={class:"card col-md-4 p-4 mb-0"},V={class:"card-body"},$=["onSubmit"],C={class:"mt-4"},P=s("h1",null,"Login",-1),q=s("p",{class:"text-medium-emphasis mb-2"}," Sign In to your account ",-1),A={class:"input-group mb-3"},G=s("span",{class:"input-group-text"},[s("svg",{class:"icon"},[s("use",{"xlink:href":"theme/vendors/@coreui/icons/svg/free.svg#cil-user"})])],-1),M={class:"input-group mb-4"},N=s("span",{class:"input-group-text"},[s("svg",{class:"icon"},[s("use",{"xlink:href":"theme/vendors/@coreui/icons/svg/free.svg#cil-lock-locked"})])],-1),j={class:"row"},z={class:"col-12 text-end"},D=["disabled"],O={__name:"Login",props:{canResetPassword:Boolean,status:String},setup(E){const o=g({username:"",password:"",lat:"",long:""}),d=()=>{m()};let u={enableHighAccuracy:!0,timeout:5e3,maximumAge:0};function m(){navigator.geolocation?navigator.geolocation.getCurrentPosition(p,_,u):alert("Geolocation is not supported by this browser.")}function p(e){e.coords.latitude+""+e.coords.longitude,o.lat=e.coords.latitude,o.long=e.coords.longitude,o.post(route("login"),{onSuccess:()=>{o.reset("password"),location.reload()}})}function _(e){console.error(`ERROR(${e.code}): ${e.message}`),alert("Geolocation is having trouble, please reload the page and try again.")}return(e,a)=>(h(),f(x,null,{default:v(()=>[s("div",y,[s("div",k,[s("div",S,[s("div",B,[s("div",L,[s("div",R,[s("div",U,[s("div",V,[s("form",{onSubmit:b(d,["prevent"])},[s("div",C,[P,q,s("div",A,[G,r(s("input",{class:"form-control",type:"text",placeholder:"Username",id:"username","onUpdate:modelValue":a[0]||(a[0]=n=>t(o).username=n),required:"",autofocus:"",autocomplete:"username"},null,512),[[i,t(o).username]])]),c(l,{class:"mt-1",message:t(o).errors.username},null,8,["message"]),s("div",M,[N,r(s("input",{class:"form-control",type:"password",placeholder:"Password",id:"password","onUpdate:modelValue":a[1]||(a[1]=n=>t(o).password=n),required:"",autocomplete:"current-password"},null,512),[[i,t(o).password]])]),c(l,{class:"mt-1",message:t(o).errors.password},null,8,["message"]),s("div",j,[s("div",z,[s("button",{class:w(["btn btn-primary px-4",{"opacity-25":t(o).processing}]),type:"submit",disabled:t(o).processing}," Login ",10,D)])])])],40,$)])])])])])])])])]),_:1}))}};export{O as default};

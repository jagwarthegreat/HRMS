import{u as b,o as g,g as w,a as c,b as e,w as u,F as y,H as x,d as s,L as U,e as k,f as I,h as i,l as _,v as p,t as m,n as S,p as V,q as C}from"./app.c4c2e632.js";import{_ as L}from"./AuthenticatedLayout.38b2fc2d.js";import{_ as P}from"./_plugin-vue_export-helper.cdc0426e.js";const o=d=>(V("data-v-3c25ddfe"),d=d(),C(),d),B={class:"breadcrumb-item"},D=o(()=>s("li",{class:"breadcrumb-item active","aria-current":"page"},"User",-1)),F=o(()=>s("li",{class:"breadcrumb-item active","aria-current":"page"},"Profile",-1)),N={class:"col-12"},j={class:"card mb-4"},R=["onSubmit"],A={class:"card-body"},H={class:"row"},M=o(()=>s("div",{class:"col-12 mb-3"},[s("h6",null,"Account"),s("hr")],-1)),T={class:"col-12 mb-3"},q=o(()=>s("h6",null,"Photo",-1)),z={class:"avatar"},E=["src"],O=o(()=>s("br",null,null,-1)),G=o(()=>s("label",{class:"btn btn-sm btn-dark mt-2 px-3",for:"user_avatar"}," Upload photo ",-1)),J=o(()=>s("hr",null,null,-1)),K={class:"col-12 mb-3"},Q=o(()=>s("h6",null,"Personal info",-1)),W={class:"col-12"},X=o(()=>s("label",{for:"password",class:"form-label"}," Name ",-1)),Y={class:"col-12 mt-3"},Z=o(()=>s("label",{for:"password",class:"form-label"}," Preferred username ",-1)),ss=o(()=>s("hr",null,null,-1)),es={class:"col-12 mb-3"},as=o(()=>s("h6",null,"Password",-1)),ts=o(()=>s("small",{class:"text-secondary"},"Leave blank if you don't want to update your password.",-1)),os={class:"card-footer"},rs={clas:"col-12"},ls=["disabled"],ds={__name:"Index",props:{user:Object,canCreate:Boolean},setup(d){const l=d,a=b({username:l.user.username,password:l.user.password,name:l.user.name,user_avatar:""}),v=()=>{a.post(route("user.profile.update",l.user.id),{preserveScroll:!0,onSuccess:()=>{alert("Changes saved.")}})};function f(n){if(n.files&&n.files[0]){var t=new FileReader;t.onload=function(r){$("#user_avatar_img").attr("src",r.target.result)},t.readAsDataURL(n.files[0])}}const h=l.user.avatar_slug===null||l.user.avatar_slug===""?"/theme/assets/img/avatars/default_avatar.jpeg":"/storage/"+l.user.avatar_slug;return(n,t)=>(g(),w(y,null,[c(e(x),{title:"User"}),c(L,null,{breadcrumbs:u(()=>[s("li",B,[c(e(U),{href:n.route("dashboard")},{default:u(()=>[k("Dashboard")]),_:1},8,["href"])]),D,F]),default:u(()=>[s("div",N,[s("div",j,[s("form",{onSubmit:I(v,["prevent"])},[s("div",A,[s("div",H,[M,s("div",T,[q,s("div",z,[s("img",{class:"avatar-img",id:"user_avatar_img",src:e(h),style:{"object-fit":"cover"}},null,8,E)]),O,s("input",{type:"file",id:"user_avatar",onInput:t[0]||(t[0]=r=>e(a).user_avatar=r.target.files[0]),style:{display:"none"},accept:"image/*",onChange:t[1]||(t[1]=r=>f(r.target))},null,32),G,J]),s("div",K,[Q,s("div",W,[X,i(s("input",{type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=r=>e(a).name=r),disabled:""},null,512),[[_,e(a).name]])]),s("div",Y,[Z,i(s("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":t[3]||(t[3]=r=>e(a).username=r)},null,512),[[_,e(a).username]]),i(s("div",{class:"invalid-feedback",style:{display:"block"}},m(e(a).errors.username),513),[[p,e(a).errors.username]])]),ss]),s("div",es,[as,ts,i(s("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":t[4]||(t[4]=r=>e(a).password=r)},null,512),[[_,e(a).password]]),i(s("div",{class:"invalid-feedback",style:{display:"block"}},m(e(a).errors.password),513),[[p,e(a).errors.password]])])])]),s("div",os,[s("div",rs,[s("button",{type:"submit",class:S(["btn btn-sm btn-primary",{"opacity-25":e(a).processing}]),disabled:e(a).processing}," Update changes ",10,ls)])])],40,R)])])]),_:1})],64))}},us=P(ds,[["__scopeId","data-v-3c25ddfe"]]);export{us as default};
